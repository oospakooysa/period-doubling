<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{{ page.title | default: site.title }}</title>
     
     <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
  
  </head>
  <body>
  <!-- Dark/Light mode toggle button -->
  <button id="theme-toggle" aria-label="Toggle dark mode" aria-pressed="false">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <!-- Sun -->
      <g class="sun" fill="none" stroke="currentColor" stroke-width="1.4">
        <circle cx="12" cy="12" r="4" fill="currentColor"></circle>
        <g stroke-linecap="round">
          <line x1="12" y1="1" x2="12" y2="3"></line>
          <line x1="12" y1="21" x2="12" y2="23"></line>
          <line x1="1" y1="12" x2="3" y2="12"></line>
          <line x1="21" y1="12" x2="23" y2="12"></line>
          <line x1="4.2" y1="4.2" x2="5.8" y2="5.8"></line>
          <line x1="18.2" y1="18.2" x2="19.8" y2="19.8"></line>
          <line x1="18.2" y1="5.8" x2="19.8" y2="4.2"></line>
          <line x1="4.2" y1="19.8" x2="5.8" y2="18.2"></line>
        </g>
      </g>
      <!-- Moon -->
      <g class="moon" fill="currentColor">
        <path d="M21 12.3A8.3 8.3 0 1 1 11.7 3 6.3 6.3 0 0 0 21 12.3z"></path>
      </g>
    </svg>
  </button>

  {% include head-custom.html %}
    <!--
    <header class="page-header" role="banner">
      <h1 class="project-name">{{ site.title | default: site.github.repository_name }}</h1>
      <h2 class="project-tagline">{{ site.description | default: site.github.project_tagline }}</h2>
      {% if site.github.is_project_page %}
        <a href="{{ site.github.repository_url }}" class="btn">View on GitHub</a>
      {% endif %}
      {% if site.show_downloads %}
        <a href="{{ site.github.zip_url }}" class="btn">Download .zip</a>
        <a href="{{ site.github.tar_url }}" class="btn">Download .tar.gz</a>
      {% endif %}
    </header>
    -->

    <main id="content" class="main-content" role="main">
      {{ content }}
    </main>

<!--
    <footer class="site-footer">
      {% if site.github.is_project_page %}
        <span class="site-footer-owner"><a href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a> is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</span>
      {% endif %}
    </footer>
-->
    
    <!-- Theme toggle logic -->
    <script>
    (function() {
      const toggle = document.getElementById('theme-toggle');
      if (!toggle) return;

      const saved = localStorage.getItem('theme');
      const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

      function apply(theme, save=true) {
        document.documentElement.dataset.theme = theme;
        toggle.classList.toggle('is-dark', theme === 'dark');
        toggle.setAttribute('aria-pressed', theme === 'dark');
        if (save) localStorage.setItem('theme', theme);
      }

      apply(saved || (systemDark ? 'dark' : 'light'), false);

      toggle.addEventListener('click', () => {
        const current = document.documentElement.dataset.theme;
        apply(current === 'dark' ? 'light' : 'dark');
      });
    })();
    </script>
    {% include mathjax.html %}
  </body>
</html>
